(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("table",[n("tbody",[n("button",{attrs:{type:"button"},on:{click:function(e){return t.createObject()}}},[t._v("New object")]),t._m(0),t._l(t.objects,(function(e){return n("tr",{key:e},[n("td",[t._v(t._s(e.location))]),n("td",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"object.comment"}],attrs:{type:"text",cols:"40",rows:"3"},domProps:{value:e.comment},on:{input:function(n){n.target.composing||t.$set(e,"comment",n.target.value)}}})]),n("td",[n("button",{attrs:{type:"button"},on:{click:function(n){return t.updateObject(e)}}},[t._v("Update")])]),n("td",[n("button",{attrs:{type:"button"},on:{click:function(n){return t.deleteObject(e.id)}}},[t._v("Delete")])])])}))],2)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Location")]),n("th",[t._v("Comment")]),n("th")])}],r=n("d4ec"),s=function t(e,n,o){Object(r["a"])(this,t),this.id=e,this.location=n,this.comment=o},u=n("bee2"),a=n("fe1f"),i=n.n(a);function d(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.access_token?{Authorization:"Bearer "+t.access_token}:{}}var l="http://localhost:8000/api/",b=function(){function t(){Object(r["a"])(this,t)}return Object(u["a"])(t,[{key:"getObjects",value:function(){return i()({method:"get",url:l+"user_objects",headers:d(),responseType:"json"}).then((function(t){return t.data.response}))}},{key:"updateObjects",value:function(t){i()({method:"post",url:l+"object/upd",headers:d(),data:{id:t.id,comment:t.comment},responseType:"json"})}},{key:"deleteObject",value:function(t){i()({method:"post",url:l+"object/del",headers:d(),data:{id:t},responseType:"json"})}}]),t}(),p=new b,m={name:"Profile",data:function(){return{obj:new s,objects:[]}},computed:{currentUser:function(){return this.$store.state.auth.user}},mounted:function(){this.currentUser||this.$router.push("/login"),this.getObjects()},methods:{createObject:function(){},getObjects:function(){var t=this;p.getObjects().then((function(e){return t.objects=e}))},updateObject:function(t){p.updateObjects(t)},deleteObject:function(t){p.deleteObject(t)}}},h=m,f=n("2877"),j=Object(f["a"])(h,o,c,!1,null,null,null);e["default"]=j.exports}}]);
//# sourceMappingURL=chunk-2d217357.ec85b91d.js.map