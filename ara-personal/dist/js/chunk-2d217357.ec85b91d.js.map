{"version":3,"sources":["webpack:///./src/views/Profile.vue?4cf1","webpack:///./src/models/objectInfo.js","webpack:///./src/services/auth-header.js","webpack:///./src/services/user.service.js","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?3600","webpack:///./src/views/Profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","createObject","_v","_m","_l","object","key","_s","location","directives","name","rawName","value","expression","domProps","target","composing","$set","updateObject","deleteObject","id","staticRenderFns","objectInfo","comment","authHeader","user","JSON","parse","localStorage","getItem","access_token","Authorization","API_URL","UserService","axios","method","url","headers","responseType","then","response","data","obj","objects","computed","currentUser","$store","state","auth","mounted","$router","push","getObjects","methods","component"],"mappings":"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","file":"js/chunk-2d217357.ec85b91d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('table',[_c('tbody',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.createObject()}}},[_vm._v(\"New object\")]),_vm._m(0),_vm._l((_vm.objects),function(object){return _c('tr',{key:object},[_c('td',[_vm._v(_vm._s(object.location))]),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(object.comment),expression:\"object.comment\"}],attrs:{\"type\":\"text\",\"cols\":\"40\",\"rows\":\"3\"},domProps:{\"value\":(object.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(object, \"comment\", $event.target.value)}}})]),_c('td',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.updateObject(object)}}},[_vm._v(\"Update\")])]),_c('td',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deleteObject(object.id)}}},[_vm._v(\"Delete\")])])])})],2)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"Location\")]),_c('th',[_vm._v(\"Comment\")]),_c('th')])}]\n\nexport { render, staticRenderFns }","export default class objectInfo {\n    constructor(id, location, comment) {\n        this.id = id;\n        this.location = location;\n        this.comment = comment;\n    }\n}","export default function authHeader() {\n    let user = JSON.parse(localStorage.getItem('user'));\n  \n    if (user && user.access_token) {\n      return { Authorization: 'Bearer ' + user.access_token };\n    } else {\n      return {};\n    }\n  }","import axios from 'axios';\nimport authHeader from './auth-header';\n\nconst API_URL = 'http://localhost:8000/api/';\n\nclass UserService {\n  getObjects() {\n    return axios({ \n      method: 'get',\n      url: API_URL + 'user_objects',\n      headers: authHeader(),\n      responseType: 'json',\n    })\n    .then ( function (response){\n      return response.data.response; \n    })\n  }\n\n  updateObjects(obj) {\n    axios({ \n      method: 'post',\n      url: API_URL + 'object/upd',\n      headers: authHeader(),\n      data: {id: obj.id,comment: obj.comment},\n      responseType: 'json',\n    })\n  }\n\n  deleteObject(id) {\n    axios({ \n      method: 'post',\n      url: API_URL + 'object/del',\n      headers: authHeader(),\n      data: {id: id},\n      responseType: 'json',\n    })\n  }\n}\n\nexport default new UserService();","<template>\n  <div class=\"container\">\n    <table><tbody>\n      <button type=\"button\" @click=\"createObject()\">New object</button>\n      <tr><th>Location</th><th>Comment</th><th></th></tr>\n      <tr v-for=\"object in objects\" :key=object>\n        <td>{{object.location}}</td>\n        <td><textarea type=\"text\" cols=\"40\" rows=\"3\" v-model=\"object.comment\" /></td>\n        <td><button type=\"button\" @click=\"updateObject(object)\">Update</button></td>\n        <td><button type=\"button\" @click=\"deleteObject(object.id)\">Delete</button></td>\n      </tr>\n    </tbody></table>  \n  </div>\n</template>\n<script>\nimport '../models/objectInfo';\nimport UserServices from '../services/user.service';\nimport objectInfo from '../models/objectInfo';\n\nexport default {\n  name: 'Profile',\n  data() {\n    return {\n      obj: new objectInfo,\n      objects: []\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  mounted() {\n    if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n    this.getObjects()\n  },\n  methods: {\n    createObject(){\n    },\n    getObjects(){\n      UserServices.getObjects().then(result => this.objects = result);\n    },\n    updateObject(obj){\n      UserServices.updateObjects(obj)\n    },\n    deleteObject(id){\n      UserServices.deleteObject(id)\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=794cac57&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}